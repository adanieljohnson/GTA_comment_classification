<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Notes &amp; Ideas</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}

.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Analyzing TA Comments in R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="course_notes.html">
    <span class="fa fa-leaf"></span>
     
    Course Notes
  </a>
</li>
<li>
  <a href="pre_work.html">
    <span class="fa fa-puzzle-piece"></span>
     
    Pre-Work
  </a>
</li>
<li>
  <a href="questions.html">
    <span class="fa fa-question-circle"></span>
     
    Questions
  </a>
</li>
<li>
  <a href="project.html">
    <span class="fa fa-archive"></span>
     
    Project
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Notes &amp; Ideas</h1>

</div>


<div id="session-1-oct.-1-2018" class="section level1">
<h1>Session 1 (Oct. 1, 2018)</h1>
<div id="section" class="section level4">
<h4> </h4>
</div>
</div>
<div id="session-2-oct.-22-2018" class="section level1">
<h1>Session 2 (Oct. 22, 2018)</h1>
<div id="section-1" class="section level4">
<h4> </h4>
</div>
</div>
<div id="session-3-nov.-12-2018" class="section level1">
<h1>Session 3 (Nov. 12, 2018)</h1>
<p>I have 11,000 comments from TAs on student reports. Working out a process for bringing in the tidied data and structuring it for analysis is not finished, but is coming along. Some of the challenges and questions I have are outlined in Session 4.</p>
<p>While learning the coding, I have been thinking about how to approach the larger problem once data are in a reasonable form. I want to sort TA comments into topic groups more or less automatically, using pre-defined criteria. What are my options?</p>
<div id="section-2" class="section level4">
<h4> </h4>
<p><strong>Option: Latent Dirichlet Allocation</strong></p>
<p>I found this summary, and a description of the approach at <a href="">https://www.tidytextmining.com/topicmodeling.html</a>:</p>
<blockquote>
<p>“In text mining, we often have collections of documents, such as blog posts or news articles, that we’d like to divide into natural groups so that we can understand them separately. Topic modeling is a method for unsupervised classification of such documents, similar to clustering on numeric data, which finds natural groups of items even when we’re not sure what we’re looking for.</p>
</blockquote>
<blockquote>
<p>“Latent Dirichlet allocation (LDA) is a particularly popular method for fitting a topic model. It treats each document as a mixture of topics, and each topic as a mixture of words. This allows documents to “overlap” each other in terms of content, rather than being separated into discrete groups, in a way that mirrors typical use of natural language.”</p>
</blockquote>
<p>My challenge is that LDA clusters items based on its own analysis. My groups are already sorted based on the <strong>existing coding book.</strong> The individual groups are already labeled.</p>
</div>
<div id="section-3" class="section level4">
<h4> </h4>
<p><strong>Option: Comparison Modeling Based on Twitter Strategies</strong></p>
<p>What if I treated each of the pre-defined sub-sets of comments I created using codebook analysis as if they were tweets from separate users? That approach is described here: <a href="https://www.tidytextmining.com/twitter.html" class="uri">https://www.tidytextmining.com/twitter.html</a></p>
<p>Strategy would be:</p>
<ul>
<li>Un-nest tokens to create a tidy frame and remove stop words using anti-join</li>
<li>Calculate word frequencies for each sub-type</li>
<li>Compare frequencies by calculating log-odds ratios</li>
</ul>
</div>
<div id="section-4" class="section level4">
<h4> </h4>
<p><strong>Option: Comparison Modeling Via Text Classification</strong></p>
<p>What if I treated each of the comments as text blocks where pre-defined words are more or less likely to be associated with the category. Jerid developed a Shiny app that does something similar: <a href="https://francojc.github.io/2015/08/15/generating-annotated-text-in-shiny/" class="uri">https://francojc.github.io/2015/08/15/generating-annotated-text-in-shiny/</a></p>
</div>
<div id="section-5" class="section level4">
<h4> </h4>
</div>
</div>
<div id="session-4-dec.-3-2018" class="section level1">
<h1>Session 4 (Dec. 3, 2018)</h1>
<p>Looking at Jerid’s <em>Intro to Statistical Thinking</em> clarified some points in my approach. I definitely need to be thinking about this problem more in terms of unsupervised exploration. It did raise some follow-up questions:</p>
<ul>
<li>A training set with 80% of the data seems excessive. If there is a large dataset, is there any cost or benefit to splitting to 33/33/34%, or even 25% x 4? The 80/20 and 60/20/20% also seems out of balance, but there is probably logic I do not see.</li>
<li>In the exploration phase, is re-sampling such a major concern?</li>
</ul>
<p><strong>Separate note:</strong> thank you many times over for the Regex101 link! Writing regex correctly has long been a pain for me! This greatly simplifies the process.</p>
<div id="section-6" class="section level4">
<h4> </h4>
</div>
<div id="confidentiality-problem" class="section level4">
<h4>Confidentiality Problem</h4>
<p>My initial dataset contains confidential information that needs to be de-identified. How do I convert the data so it can be displayed on a public site?</p>
<p>Most direct solution is to write bridge scripts. The versions that actually read my data in private repo. The public versions of these scripts would have 1+ empty placeholder spaces in the key commands that read in the data. Script documentation would explain how others can modify the bridge script file paths.</p>
<p>I assume that without correct system paths, outside users would not be able to access them. I can provide the de-identified data publicly, without exposing the confidential data.</p>
<p>Any gaps or problems with this approach?</p>
</div>
<div id="section-7" class="section level4">
<h4> </h4>
</div>
<div id="primary-data-keys-for-structuring-the-dataset" class="section level4">
<h4>Primary Data Keys For Structuring the Dataset?</h4>
<p>These are values that are present already in the dataset.</p>
<p><em>record.id</em></p>
<blockquote>
<p>Column is a semester ID and 5-digit number, like sp18.00001. This particular record.id indicates the data line is from Spring 2018 CSV file, and is line 00001 of the data table. This should be the unique primary key value for each record. Once assigned, it should not change.</p>
</blockquote>
<p><em>report.id</em></p>
<blockquote>
<p>Format is R_nnn(…). The string is assigned to each entry made in Qualtrics. This particular string is assigned when a report is collected by our system. It is anonymous, and serves as a unique id for each REPORT document that we collect.</p>
</blockquote>
<p><em>student</em></p>
<blockquote>
<p>The email address of the SUBMITTING STUDENT. Unique to each student, and assigned by WFU. The email address connects multiple reports to a SINGLE STUDENT AUTHOR. It is NOT confidential though, so needs to be switched out.</p>
</blockquote>
<p><em>ta</em></p>
<blockquote>
<p>The name of the TA assigning scores. Unique to instructor, and connects multiple reports scored by SINGLE TA. Again it is NOT confidential, so also needs to be switched out.</p>
</blockquote>
<p>Consider either:</p>
<ul>
<li>Creating lists of non-repeating IDs with S_nnn(…) = Student name, T_nnn(…) = TA name. Then assign the names via a “lookup” style function</li>
<li>Using a global names generator to build 25K list of randomly generated non-repeating first_last names. In practice, random names are easier to scan for visually.</li>
</ul>
</div>
<div id="section-8" class="section level4">
<h4> </h4>
</div>
<div id="lagniappe" class="section level4">
<h4>Lagniappe</h4>
<p>Maybe it is just me, but I’ve been struggling with some of the outside instructional materials becuase they use generic terms in ways that make code structure more confusing.</p>
<p>For example, using either “text” or “word” as a variable_name is confusing if the same word is used as part of commands. An example I found of this is when I tried to use the “unnest_tokens” command. Look at the language below from one of the exercises; are the terms inside the parentheses variable_names, or modifiers for the command?</p>
<pre><code>(text_tibble) %&gt;% 
  unnest_tokens(word,text)</code></pre>
<p>Just adding a numeral to show it is a variable name would help. For example, “text_1” clearly is not a command or modifier term.</p>
<p>Maybe this goes back to developing a habit of adopting one approach (like snake_case, or never using “_&quot; as the first character in a filename) and sticking to it.</p>
</div>
<div id="section-9" class="section level4">
<h4> </h4>
</div>
<div id="miscellaneous-to-do" class="section level4">
<h4>Miscellaneous To Do</h4>
<ul>
<li>Need to review map, cast and bind commands again. Not sticking in my head.</li>
<li>Try visualizing the 2-D array of the TA comments as a mosaic plot.</li>
</ul>
<p><strong>Marking Lab Reports (random thoughts on a different project)</strong></p>
<p>Text files for processed lab reports already are structured so we can use them like corpus files with inline meta-data. All lab reports have this as embedded metadata up front:</p>
<ul>
<li>Number of lab report in semester: first</li>
<li>This is a revision.</li>
<li>Date submitted: 2018-11-06 12:17:40</li>
<li>Author of this lab report is: <em>Student’s NAME</em></li>
<li>ID: R_1et5dvwqfl2ZCX1</li>
<li>Course number: 214</li>
<li>TA: <em>TA’s NAME</em></li>
</ul>
<p>Again, the main change we would need to make is to de-identify the student and TA. In theory I should be able to build some kind of direct replace functions for the TA-name and the Student-name.</p>
</div>
<div id="section-10" class="section level4">
<h4> </h4>
</div>
</div>
<div id="session-5-jan.-14-2019" class="section level1">
<h1>Session 5 (Jan. 14, 2019)</h1>
<div id="section-11" class="section level4">
<h4> </h4>
</div>
</div>
<div id="session-6-feb.-4-2019" class="section level1">
<h1>Session 6 (Feb. 4, 2019)</h1>
<div id="section-12" class="section level4">
<h4> </h4>
</div>
</div>
<div id="session-7-feb.-25-2019" class="section level1">
<h1>Session 7 (Feb. 25, 2019)</h1>
<div id="section-13" class="section level4">
<h4> </h4>
</div>
</div>
<div id="session-8-mar.-18-2019" class="section level1">
<h1>Session 8 (Mar. 18, 2019)</h1>
<div id="section-14" class="section level4">
<h4> </h4>
</div>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<div id="section-15" class="section level4">
<h4> </h4>
</div>
</div>

<p>Copyright &copy; 2018 A. Daniel Johnson. All rights reserved.</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
